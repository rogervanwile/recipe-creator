<div class="recipe-manager-pro--block{{#if align}} align{{align}}{{/if}}">
	{{#if name}}
		<h2>{{{name}}}</h2>
	{{/if}}

	<div class="recipe-manager-pro--block--intro">
		<div>
			{{#if difficulty}}
				<span class="recipe-manager-pro--block--difficulty">{{ difficulty }}</span>
			{{/if}}

			{{#if description}}
				<p>{{ description }}</p>
			{{/if}}
			{{#if averageRating}}
			<div class="recipe-manager-pro--block--rating recipe-manager-pro--block--rating--small">
				<ol>
					<li class="recipe-manager-pro--block--star{{#if averageRating}} selected{{/if}}" data-rating="1">1</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 2}} selected{{else}}{{#ifMoreOrEqual averageRating 1.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="2">2</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 3}} selected{{else}}{{#ifMoreOrEqual averageRating 2.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="3">3</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 4}} selected{{else}}{{#ifMoreOrEqual averageRating 3.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="4">4</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 5}} selected{{else}}{{#ifMoreOrEqual averageRating 4.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="5">5</li>
				</ol>
				{{averageRating}}
			</div>
			{{/if}}
		</div>
		<div>
			{{#if image4_3}}
        <div
          class="recipe-manager-pro--block--main-image"
          style="background-image: url('{{image4_3}}');" title="{{{ name }}}"
        ></div>
			{{/if}}
		</div>
	</div>

	<hr />

	<div class="recipe-manager-pro--block--timing-list">
		<ul>
			{{#if prepTime}}
			<li>
				<header>{{translations/prepTime}}:</header>
				<span>{{#formatDuration prepTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if restTime}}
			<li>
				<header>{{translations/restTime}}:</header>
				<span>
				{{#formatDuration restTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if cookTime}}
			<li>
				<header>{{translations/cookTime}}:</header>
				<span>
				{{#formatDuration cookTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if totalTime}}
			<li>
				<header>{{translations/totalTime}}:</header>
				<span>{{#formatDuration totalTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}
		</ul>
	</div>

	<hr />

	{{#if ingredients}}
		<div class="recipe-manager-pro--block--headline">
			<h3>{{translations/ingredients}}</h3>
			{{#if servings}}
				<div class="recipe-manager-pro--block--servings-editor">
				  <button type="button" class="btn btn-secondary recipe-shrink-servings">-</button>
				  <span disabled="disabled"><span class="recipe-servings">{{servings}}</span> {{translations/servings}}</span>
				  <button type="button" class="btn btn-secondary recipe-increase-servings">+</button>
				</div>
			{{else}}
				{{#if recipeYield}}
					<div class="recipe-manager-pro--block--servings-editor">
					  <button type="button" class="btn btn-secondary recipe-shrink-servings">-</button>
					  <span disabled="disabled"><span class="recipe-servings">{{recipeYield}}</span> {{translations/yield}}</span>
					  <button type="button" class="btn btn-secondary recipe-increase-servings">+</button>
					</div>
				{{/if}}
			{{/if}}
		</div>
		<table class="recipe-manager-pro--block--ingredients">
			<tbody>
				{{#each ingredients}}
					<tr>
						<td class="recipe-manager-pro--block--amount" data-recipe-base-amount="{{this/baseAmount}}" data-recipe-base-unit="{{this/baseUnit}}">{{this/amount}} {{this/unit}}</td>
						<td class="recipe-manager-pro--block--ingredient">{{this/ingredient}}</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	{{/if}}

	<hr />

	{{#if preparationSteps}}
		<div class="recipe-manager-pro--block--headline">
			<h3>{{translations/preparationSteps}}</h3>
		</div>
		<ol class="recipe-manager-pro--block--preparation-steps">
			{{{preparationSteps}}}
		</ol>
	{{/if}}


	{{#if notes}}
	<hr />

	<section>
		<header class="recipe-manager-pro--block--headline">
			<h3>{{translations/notes}}</h3>
		</header>
		<p>{{notes}}</p>
	</section>
	{{/if}}
	
	<section class="recipe-manager-pro--block--user-rating">
		<hr />
		<header class="recipe-manager-pro--block--headline">
			<h3>{{translations/feedback}}</h3>
		</header>	
		<div class="recipe-manager-pro--block--rating recipe-manager-pro--block--interactive" data-post-id="{{postId}}" data-save-url="{{ajaxUrl}}" data-nonce="{{nonce}}">
			<ol>
				<li class="recipe-manager-pro--block--star{{#if userRating}} selected{{/if}}" data-rating="1">1</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 2}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="2">2</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 3}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="3">3</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 4}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="4">4</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 5}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="5">5</li>
			</ol>
		</div>
	</section>
	<script>
		var RecipeManagerPro = RecipeManagerPro || {};
		RecipeManagerPro.config = {
			ajaxUrl: '{{ajaxUrl}}',
			nonce: '{{nonce}}'
		};
	</script>
	<script type="application/ld+json">
		{{#toJSON ldJson}}{{/toJSON}}
  </script>
</div>
