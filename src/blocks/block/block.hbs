<div class="recipe-manager-pro--block{{#if align}} align{{align}}{{/if}}">
	{{#if name}}
		<h2>{{{name}}}</h2>
	{{/if}}
	
	<div class="recipe-manager-pro--block--intro">
		<div>
			{{#if difficulty}}
				<span class="recipe-manager-pro--block--difficulty">{{ difficulty }}</span>
			{{/if}}

			{{#if description}}
				<p>{{ description }}</p>
			{{/if}}
			{{#if averageRating}}
			<div class="recipe-manager-pro--block--rating recipe-manager-pro--block--rating--small">
				<ol>
					<li class="recipe-manager-pro--block--star{{#if averageRating}} selected{{/if}}" data-rating="1">1</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 2}} selected{{else}}{{#ifMoreOrEqual averageRating 1.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="2">2</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 3}} selected{{else}}{{#ifMoreOrEqual averageRating 2.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="3">3</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 4}} selected{{else}}{{#ifMoreOrEqual averageRating 3.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="4">4</li>
					<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual averageRating 5}} selected{{else}}{{#ifMoreOrEqual averageRating 4.5}} half-selected{{/ifMoreOrEqual}}{{/ifMoreOrEqual}}" data-rating="5">5</li>
				</ol>
				{{averageRating}}
			</div>
			{{/if}}
		</div>
		<div>
			{{#if thumbnail}}
        <div
          class="recipe-manager-pro--block--main-image"
          style="background-image: url('{{thumbnail}}');" title="{{ name }}"
        ></div>
			{{/if}}
		</div>
	</div>

	<hr />

	<div class="recipe-manager-pro--block--timing-list">
		<ul>
			{{#if prepTime}}
			<li>
				<header>{{translations/prepTime}}:</header>
				<span>{{#formatDuration prepTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if restTime}}
			<li>
				<header>{{translations/restTime}}:</header>
				<span>
				{{#formatDuration restTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if cookTime}}
			<li>
				<header>{{translations/cookTime}}:</header>
				<span>
				{{#formatDuration cookTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}

			{{#if totalTime}}
			<li>
				<header>{{translations/totalTime}}:</header>
				<span>{{#formatDuration totalTime}}{{/formatDuration}}</span>
			</li>
			{{/if}}
		</ul>
	</div>

	<hr />

	{{#if ingredients}}
		<div class="recipe-manager-pro--block--headline">
			<h3>{{translations/ingredients}}</h3>
			{{#if recipeYield}}
				<div class="recipe-manager-pro--block--servings-editor">
				  <button type="button" class="btn btn-secondary recipe-shrink-servings">-</button>
				  <span disabled="disabled"><span class="recipe-servings">{{recipeYield}}</span>
						{{recipeYieldUnit}}
					</span>
				  <button type="button" class="btn btn-secondary recipe-increase-servings">+</button>
				</div>
			{{/if}}
		</div>
		<table class="recipe-manager-pro--block--ingredients">
			<tbody>
				{{#each ingredients}}
					<tr>
						<td class="recipe-manager-pro--block--amount" data-recipe-base-amount="{{this/baseAmount}}" data-recipe-base-unit="{{this/baseUnit}}">{{this/amount}} {{this/unit}}</td>
						<td class="recipe-manager-pro--block--ingredient">{{{this/ingredient}}}</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	{{/if}}

	<hr />

	{{#if preparationSteps}}
		<div class="recipe-manager-pro--block--headline">
			<h3>{{translations/preparationSteps}}</h3>
		</div>
		<ol class="recipe-manager-pro--block--preparation-steps">
			{{{preparationSteps}}}
		</ol>
	{{/if}}


	{{#if notes}}
	<hr />

	<section>
		<header class="recipe-manager-pro--block--headline">
			<h3>{{translations/notes}}</h3>
		</header>
		<p>{{notes}}</p>
	</section>
	{{/if}}
	
	<section class="recipe-manager-pro--block--user-rating">
		<hr />
		<header class="recipe-manager-pro--block--headline">
			<h3>{{translations/feedback}}</h3>
		</header>	
		<div class="recipe-manager-pro--block--rating recipe-manager-pro--block--interactive" data-post-id="{{postId}}" data-save-url="{{ajaxUrl}}" data-nonce="{{nonce}}">
			<ol>
				<li class="recipe-manager-pro--block--star{{#if userRating}} selected{{/if}}" data-rating="1">1</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 2}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="2">2</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 3}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="3">3</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 4}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="4">4</li>
				<li class="recipe-manager-pro--block--star{{#ifMoreOrEqual userRating 5}} selected{{else}}{{/ifMoreOrEqual}}" data-rating="5">5</li>
			</ol>
		</div>
	</section>
	<script>
		var RecipeManagerPro = RecipeManagerPro || {};
		RecipeManagerPro.config = {
			ajaxUrl: '{{ajaxUrl}}',
			nonce: '{{nonce}}'
		};
	</script>
	<script type="application/ld+json">
		{{#toJSON ldJson}}{{/toJSON}}
  </script>
	<style>
		.recipe-manager-pro--block {
		  --headline-font-family: Luna-Regular, sans-serif;
		  --headline-font-size: 32px;
		  --headline-font-weight: normal;
		  --sub-headline-font-size: 24px;
		  --sub-headline-font-weight: normal;
		  --background: {{options/backgroundColor}};
		  --secondary: {{options/secondaryColor}};
		  --primary: {{options/primaryColor}};
		  --primary-light: {{options/primaryColorLight}};

			--star-url: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='{{options/primaryColorEncoded}}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-star'><polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon></svg>");
			--star-filled-url: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='{{options/primaryColorEncoded}}' stroke='{{options/primaryColorEncoded}}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-star'><polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon></svg>");
			--star-half-filled-url: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='url(%23half_grad)' stroke='{{options/primaryColorEncoded}}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-star'><defs><linearGradient id='half_grad'><stop offset='50%' stop-color='%23e27a7a'/><stop offset='50%' stop-color='white' stop-opacity='1' /></linearGradient></defs><polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon></svg>");
			--star-highlighted-url: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='{{options/primaryColorDarkEncoded}}' stroke='{{options/primaryColorDarkEncoded}}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-star'><polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon></svg>");
		}

	</style>
</div>
